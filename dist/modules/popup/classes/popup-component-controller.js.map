{"version":3,"file":"popup-component-controller.js","sourceRoot":"","sources":["../../../../src/modules/popup/classes/popup-component-controller.ts"],"names":[],"mappings":";;;;;;;;;;AAEA,OAAO,EAAE,kBAAkB,EAAE,MAAM,oBAAoB,CAAC;AAGxD;IAAoD,+CAAkB;IAUlE,qCAAY,OAAkB,EAClB,gBAAoC,EAC5B,UAAkB,EAC1B,MAAkB;QAH9B,YAKI,kBAAM,OAAO,EAAE,gBAAgB,EAAE,MAAM,CAAC,SAQ3C;QAXmB,gBAAU,GAAV,UAAU,CAAQ;QAKlC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;YACzB,EAAE,CAAC,CAAC,KAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;gBAC5B,KAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,CAAC;gBACpC,KAAI,CAAC,oBAAoB,GAAG,SAAS,CAAC;YAC1C,CAAC;QACL,CAAC,CAAC,CAAC;;IACP,CAAC;IAnBD,sBAAW,0DAAiB;aAA5B;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;gBAC5B,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC;YAC9C,CAAC;QACL,CAAC;;;OAAA;IAiBM,0CAAI,GAAX;QACI,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,IAAI,CAAC,UAAqB,CAAC,CAAC;QAC/F,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;QAE3F,iBAAM,IAAI,WAAE,CAAC;IACjB,CAAC;IACL,kCAAC;AAAD,CAAC,AA/BD,CAAoD,kBAAkB,GA+BrE","sourcesContent":["import { ComponentRef, ElementRef, Type } from \"@angular/core\";\nimport { SuiComponentFactory } from \"../../../misc/util\";\nimport { SuiPopupController } from \"./popup-controller\";\nimport { PopupConfig } from \"./popup-config\";\n\nexport class SuiPopupComponentController<T> extends SuiPopupController {\n    // Stores reference to generated content component.\n    private _contentComponentRef?:ComponentRef<T>;\n\n    public get componentInstance():T | undefined {\n        if (this._contentComponentRef) {\n            return this._contentComponentRef.instance;\n        }\n    }\n\n    constructor(element:ElementRef,\n                componentFactory:SuiComponentFactory,\n                private _component:Type<T>,\n                config:PopupConfig) {\n\n        super(element, componentFactory, config);\n\n        this.popup.onClose.subscribe(() => {\n            if (this._contentComponentRef) {\n                this._contentComponentRef.destroy();\n                this._contentComponentRef = undefined;\n            }\n        });\n    }\n\n    public open():void {\n        this._contentComponentRef = this._componentFactory.createComponent(this._component as Type<T>);\n        this._componentFactory.attachToView(this._contentComponentRef, this.popup.templateSibling);\n\n        super.open();\n    }\n}\n"]}